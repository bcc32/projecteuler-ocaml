(jbuild_version 1)

(library
 ((name        euler_solutions)
  (synopsis "A collection of OCaml solutions to ProjectEuler problems")
  (libraries (core
              euler
              re2))
  (preprocess (pps (ppx_jane)))
  (inline_tests)
  (modules (:standard \ template))))

(rule
 ((targets (euler_solutions.ml))
  (deps    (euler_solutions.cppo.ml))
  (action  (run ${bin:cppo} ${<} -o ${@}
             -x "module_list:perl ${path:module-list.pl}"))))
